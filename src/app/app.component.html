<h1>
  {{ title }}
</h1>

<form #contactForm="ngForm" (ngSubmit)="onSubmit(contactForm)" novalidate>
  <p>
    <label for="firstname">First Name </label>
    <input
      type="text"
      id="firstname"
      name="firstname"
      placeholder="Inserisci il Nome"
      required
      minlength="2"
      #firstname="ngModel"
      [(ngModel)]="contact.firstname"
      [ngClass]="{
        'is-invalid': firstname.invalid && firstname.dirty,
        'is-valid': firstname.valid && firstname.dirty
      }"
    />
  </p>
  <div
    *ngIf="!firstname.valid && (firstname.dirty || firstname.touched)"
    class="error"
  >
    <div *ngIf="firstname.errors['required']">First Name is required</div>
    <div *ngIf="firstname.errors['minlength'] && firstname.touched">
      First Name Minimum Length is
      {{ firstname.errors['minlength'].requiredLength }}
    </div>
    <div *ngIf="firstname.errors['pattern']">
      Only characters - not spaces - are allowed.
    </div>
  </div>

  <p>
    <label for="lastname">Last Name </label>
    <input
      type="text"
      id="lastname"
      name="lastname"
      placeholder="Inserisci il Cognome"
      required
      minlength="2"
      maxlength="25"
      #lastname="ngModel"
      pattern="^[a-zA-Z]+$"
      [(ngModel)]="contact.lastname"
    />
  </p>
  <div
    *ngIf="!lastname.valid && (lastname.dirty || lastname.touched)"
    class="error"
  >
    <div *ngIf="lastname.errors['required']">Last Name is required</div>
    <div *ngIf="lastname.errors['minlength'] && lastname.touched">
      Last Name Minimum Length is
      {{ lastname.errors['minlength'].requiredLength }}
    </div>
    <div *ngIf="lastname.errors['pattern']">
      Only characters - not spaces - are allowed
    </div>
  </div>

  <p>
    <label for="email">email </label>
    <input
      type="text"
      id="email"
      name="email"
      placeholder="Inserisci un'e-mail"
      required
      email
      #email="ngModel"
      [(ngModel)]="contact.email"
    />
  </p>
  <div *ngIf="!email.valid && (email.dirty || email.touched)" class="error">
    <div *ngIf="email.errors['required']">Email is required</div>
    <div *ngIf="email.errors.email">Invalid Email Address</div>
  </div>

  <p>
    <label for="gender">Gender </label>
    <input
      type="radio"
      value="male"
      id="gender"
      name="gender"
      #gender="ngModel"
      required
      [(ngModel)]="contact.gender"
    />Male
    <input
      type="radio"
      value="female"
      id="gender"
      name="gender"
      #gender="ngModel"
      required
      [(ngModel)]="contact.gender"
    />
    Female
  </p>
  <div
    *ngIf="!gender?.valid && (gender?.dirty || gender?.touched)"
    class="error"
  >
    <div *ngIf="gender.errors['required']">Gender is required</div>
  </div>

  <p>
    <label for="isToc">Accept TOC</label>
    <input
      type="checkbox"
      id="isToc"
      name="isToc"
      required
      #isToc="ngModel"
      [(ngModel)]="contact.isToc"
    />
  </p>
  <div *ngIf="!isToc?.valid && (isToc?.dirty || isToc?.touched)" class="error">
    <div *ngIf="isToc.errors['required']">Please accept the TOC</div>
  </div>

  <p>
    <button type="submit" [disabled]="!contactForm.valid">Submit</button>
  </p>

  <p>{{ contactForm.valid }}</p>

  <p>-- Form Value:</p>
  <pre><code>{{ contactForm.value | json }}</code></pre>
  <p>-- Model Value:</p>
  <pre><code>{{contact|json}} </code></pre>
</form>
